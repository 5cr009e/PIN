<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello World</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vditor/dist/index.css" />
    <script src="https://cdn.jsdelivr.net/npm/vditor/dist/index.min.js"></script>
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
    <div class="container">
        <div id="topbar">
            
        </div>
        <div id="vditor"></div>
    </div>
    <!-- <button id="new-window">New</button> -->
   <script>
       
        (function() { 
            const vditor = new Vditor('vditor', 
                {
                    toolbarConfig: {
                        pin: true,    
                    },
                    cache: {
                        enable: false,    
                    },
                after () {
                    vditor.setValue('Pin!')}})})()
        
        const bw = require('electron').remote.BrowserWindow
        function createWindow(BrowserWindow){
            let win = new BrowserWindow({
                width: 400,
                height: 600,
                frame: false,
                webPreferences: {
                    nodeIntegration: true,
                    experimentalFeatures: true
                },
                vibrancy: 'light'
            })
            win.setAlwaysOnTop(true, 'screen')
            win.loadURL(url.format ({
                pathname: path.join(__dirname, 'index.html'),
                protocol: 'file',
                slashes: true
            }))
            return win
        }
        const btn = document.getElementById('new-window')
        btn.addEventListener("click", () => {createWindow(bw)})
        
</script>
</body>
   
</html>
